---
title: Odin Game Engine 구조
---

## 엔진 개요

- [Odin 언어로 작성된 게임 엔진](https://github.com/SpaceTravelCompany/Odin-GameEngine) (core/engine 패키지) – 현재는 2D만 지원
- 멀티 플랫폼: Windows, Linux, Android, (웹 지원 추가중)
- 그래픽: Vulkan, OpenGL (데스크톱), Vulkan, OpenGL ES (Android), WebGL2, WebGPU (웹)
- 창/입력: GLFW (데스크톱), Android Native (모바일), 웹(odin.js, wasm)

---

## 엔진 구조

- **오브젝트(iobject)**: 화면에 나오는 그래픽(꼭 화면에 그릴 필요는 없음)을 구성하는 요소. iobject가 기본 형식이며, shape, image 등으로 상속되어 존재.
- **레이어(layer)**: 오브젝트들의 묶음. scene 이름의 `[dynamic]^iobject` 동적 배열을 사용하여 렌더링 시 반복문으로 순회하여 그림.
- **뷰포트(viewport)**: 화면에 나오는 영역을 정의하는 Rect 사각영역, 카메라, 투영(projection)으로 구성. 오브젝트 표시 시 오브젝트 행렬과 뷰포트 요소가 필요하며, 뷰포트가 여러 개일 경우 반복 렌더링.

---

## 주요 파일

- **glfw.odin**: 데스크톱 창 관리 및 입력 처리
- **android.odin**: 안드로이드 창 관리 및 입력 처리
- **graphics_api.odin**: 그래픽스 API 함수 래퍼, Vulkan 등 공통 작업 처리
- **vk_.odin, gl_.odin...**: 그래픽스 백엔드
- **shaders/**: 그래픽스 API용 쉐이더 파일 모음. 실행 시 실시간 컴파일 사용

---

## 파일 구조

| 범주       | 파일                     | 설명                                   |
|------------|--------------------------|----------------------------------------|
| 입력       | input.odin               | 키/마우스/터치                         |
|            | gamepad_windows.odin     | 게임패드(윈도우만 지원)                |
| 소리       | sound.odin               |                                        |
| 벡터 그래픽| shape.odin               | iobject 종류, 벡터 그래픽 표시         |
| 기하       | geometry.odin            | 벡터 그래픽 정점, 인덱스 조립          |
| 글꼴       | font.odin                | geometry.odin과 연계, 글자 표시        |
|            | freetype.odin            | 글꼴 파일 로딩 기반 라이브러리         |
| 이미지     | image.odin, tile_image.odin | 이미지 처리                          |
| 애니메이션 | animator.odin            | 이미지를 연속해서 보여줌               |
| 버튼       | component/button.odin    | 이미지/벡터 버튼, 마우스 충돌 처리     |
| 이미지 로딩| core/image, vendor/svg   | 이미지 디코딩/인코딩                   |
| 수학       | core/math                | 행렬 계산 등 다양한 수학 계산          |

---

## 오브젝트 구조

![오브젝트 구조](images/1/object_structure.png)

---

## 실행 순서

1. **main(entry)**
2. **engine_main**
3. **system_start**
4. **graphics_init**
5. 사용자가 설정한 **init 실행**
6. **system_loop**
   - 내부에서 사용자가 설정한 update, 크기조절, 입력 이벤트 처리, draw 수행
7. 사용자가 설정한 **destroy 실행**
8. **system_destroy**
9. **graphics_destroy**